"use strict";var e=require("./feature-54323509.js"),t=require("./browser-ef557d00.js");require("axios"),require("date-fns");module.exports=class{_promoted;get id(){return"PromotionSideCard"}initPromoted(e){this._promoted=e}sendAction(t,o){const r=e.TELEMETRY_ACTIONS[o];r&&e.sendAction(t,r)}show(o){if(!this._promoted)throw new Error("It needs to initPromoted.");const r=e.formatProperties(o.properties),i=document.querySelector(".mapboxgl-side-card"),d=`mapboxgl-side-card-adid__${o.properties.adid}`,s=document.querySelector(`.${d}`);if(!i||!s){if(i&&!s&&updatePromotionSideCard)return this._promoted.fire(new e.Event(e.EVENT_TYPES.UPDATE_SIDE_CARD,{feature:o})),t.updateElementEndpoint(".mapboxgl-side-card",`mapboxgl-side-card ${d}`),void updatePromotionSideCard(r);this._promoted.fire(new e.Event(e.EVENT_TYPES.SHOW_SIDE_CARD,{feature:o})),t.insertElementEndpoint(`mapboxgl-side-card ${d}`),showPromotionSideCard&&showPromotionSideCard(r,((t,r)=>{this._promoted&&(this._promoted.fire(new e.Event(e.EVENT_TYPES.CLICK_SIDE_CARD,{clickType:t,feature:o})),this.sendAction(r,t))}),(t=>{this._promoted&&(this._promoted.fire(new e.Event(e.EVENT_TYPES.CLOSE_SIDE_CARD,{feature:o})),this._promoted.deselectLayer(),this.remove(),e.sendDeselection(t))}),(t=>{this._promoted&&this._promoted.fire(new e.Event(e.EVENT_TYPES.OPEN_SIDE_CARD,{feature:o}))}),(t=>{this._promoted&&this._promoted.fire(new e.Event(e.EVENT_TYPES.HIDE_SIDE_CARD,{feature:o}))}))}}remove(){t.removeElementEndpoint(".mapboxgl-side-card")}};
